<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Write your site description here. It will be used as your sites meta description as well!">

    <title>Django MongoDB Engine [Part 1] - Clean Blog</title>

    <link rel="canonical" href="http://yourdomain.com/2015/02/20/Django-MongoDB-Engine-Part-1/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Clean Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/contact/">Contact</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/post-bg-02.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Django MongoDB Engine [Part 1]</h1>
                    
                    <span class="meta">Posted by George Theofilis on February 20, 2015</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<h2 id="installation">Installation</h2>

<p>Django MongoDB Engine depends on</p>

<ul>
  <li>link:http://django-nonrel.org/[Django-nonrel], a fork of Django that adds support for non-relational databases.</li>
  <li>link:https://github.com/django-nonrel/djangotoolbox[djangotoolbox], a bunch of utilities for non-relational Django applications and backends.</li>
</ul>

<p>It’s highly recommended (although not required) to use a link:http://www.virtualenv.org/[virtualenv] for your project to not mess up other Django setups.</p>

<h3 id="virtualenv">virtualenv</h3>

<p><em>virtualenv</em> is a tool to create isolated Python environments.</p>

<p>If not already installed, grab a copy from the Cheeseshop:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">pip install virtualenv</code></pre></div>

<p>To set up a virtual environment for your project, use</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">virtualenv myproject</code></pre></div>

<p>To join the environment, use (in Bash):</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">source </span>myproject/bin/activate</code></pre></div>

<h3 id="django-nonrel">Django-nonrel</h3>
<p>Django fork with support for NoSQL databases</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">pip install git+https://github.com/django-nonrel/django@nonrel-1.7</code></pre></div>

<h3 id="djangotoolbox">djangotoolbox</h3>

<p>Djangotoolbox provides a common API for running Django on non-relational/NoSQL databases.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">pip install git+https://github.com/django-nonrel/djangotoolbox</code></pre></div>

<p>The djangotoolbox.admin module provides admin overrides for making django.contrib.auth work correctly in the admin UI. Simply add ‘djangotoolbox’ to INSTALLED_APPS after django.contrib.admin.</p>

<p>This will disable features that require JOINs. If you still need permission handling you should use the nonrel permission backend.</p>

<h4 id="django-permission-backend-nonrel">django-permission-backend-nonrel</h4>

<p>A Django authentication backend that supports Django’s user and group permissions on Django-Nonrel.</p>

<ul>
  <li>
    <p>Get the code from Github:</p>

    <p>git clone https://github.com/django-nonrel/django-permission-backend-nonrel.git</p>
  </li>
  <li>
    <p>add <em>permission_backend_nonrel.backends.NonrelPermissionBackend</em> to your AUTHENTICATION_BACKENDS and <em>permission_backend_nonrel</em> to your INSTALLED_APPS</p>

    <p>settings.py:</p>

    <p>AUTHENTICATION_BACKENDS = (
      …
      ‘permission_backend_nonrel.backends.NonrelPermissionBackend’,
  )</p>

    <p>INSTALLED_APPS = (
      …
      ‘permission_backend_nonrel’,
  )</p>
  </li>
  <li>
    <p>It’s important to put ‘permission_backend_nonrel after djangotoolbox, because permission_backend_nonrel.admin replaces djangotoolbox’s User admin site.
+
Permission and groups can be assigned and modified via Django’s admin interface:
+
link:https://camo.githubusercontent.com/603ca1906c7fe866050b50b90337e9a8925a3301/687474703a2f2f666c6f6f6f6f66696c65732e61707073706f742e636f6d2f73657276652f66696c65732f61646d696e2e6a7065672f[Django-nonrel admin with user_permissions and groups]
+
Django-gaeauth admin interface with user_permissions and groups</p>
  </li>
  <li>
    <p>Now you should be able to use all the standard Django permission methods and decorators, like user.has_perm(‘foo’) and so on.</p>
  </li>
</ul>

<h3 id="django-mongodb-engine">Django MongoDB Engine</h3>

<p>You should use the latest Git
revision.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">pip install git+https://github.com/django-nonrel/mongodb-engine</code></pre></div>

<h2 id="configuration">Configuration</h2>

<p>Database setup is easy (see also the link:https://docs.djangoproject.com/en/dev/ref/settings/#databases[Django database setup docs]):</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">&#39;default&#39;</span> <span class="p">:</span> <span class="p">{</span>
      <span class="s">&#39;ENGINE&#39;</span> <span class="p">:</span> <span class="s">&#39;django_mongodb_engine&#39;</span><span class="p">,</span>
      <span class="s">&#39;NAME&#39;</span> <span class="p">:</span> <span class="s">&#39;my_database&#39;</span>
   <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>Django MongoDB Engine also takes into account the HOST, PORT, USER, PASSWORD and OPTIONS settings.</p>

<p>Possible values of OPTIONS are described in the <a href="https://django-mongodb-engine.readthedocs.org/en/latest/reference/settings.html">settings reference</a>.</p>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2015/02/18/Linux-HowTo-Encrypt-And-Decrypt-Files-With-A-Password/" data-toggle="tooltip" data-placement="top" title="Linux: HowTo Encrypt And Decrypt Files With A Password">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2015/02/21/Den-anoigei-o-ypologisths-44-Bhmata-gia-Diagnwsh/" data-toggle="tooltip" data-placement="top" title="Den Anoigei O Ypologisths 44 Bhmata Gia Diagnwsh">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/SBootstrap">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/IronSummitMedia">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/davidtmiller">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Clean Blog 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
